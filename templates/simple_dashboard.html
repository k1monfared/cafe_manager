{% extends "simple_base.html" %}

{% block title %}Dashboard - Simple Inventory Manager{% endblock %}

{% block content %}
<div class="row">
    <div class="col-12">
        <h1><i class="bi bi-speedometer2"></i> Inventory Dashboard</h1>
    </div>
</div>

<!-- Status Cards -->
<div class="row mb-4">
    <div class="col-md-3">
        <div class="card bg-primary text-white">
            <div class="card-body">
                <div class="d-flex justify-content-between">
                    <div>
                        <h4>{{ status.total_items or 0 }}</h4>
                        <p class="mb-0">Total Items</p>
                    </div>
                    <div class="align-self-center">
                        <i class="bi bi-box h2"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-warning text-white">
            <div class="card-body">
                <div class="d-flex justify-content-between">
                    <div>
                        <h4>{{ status.items_below_threshold or 0 }}</h4>
                        <p class="mb-0">Below Threshold</p>
                    </div>
                    <div class="align-self-center">
                        <i class="bi bi-exclamation-triangle h2"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-danger text-white">
            <div class="card-body">
                <div class="d-flex justify-content-between">
                    <div>
                        <h4>{{ status.critical_items or 0 }}</h4>
                        <p class="mb-0">Critical Items</p>
                    </div>
                    <div class="align-self-center">
                        <i class="bi bi-exclamation-circle h2"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card bg-info text-white">
            <div class="card-body">
                <div class="d-flex justify-content-between">
                    <div>
                        <h4>{{ status.recommendations_count or 0 }}</h4>
                        <p class="mb-0">Recommendations</p>
                    </div>
                    <div class="align-self-center">
                        <i class="bi bi-lightbulb h2"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Urgent Recommendations -->
{% if recommendations %}
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5><i class="bi bi-exclamation-triangle"></i> Purchase Recommendations</h5>
            </div>
            <div class="card-body">
                {% include 'recommendation_table.html' %}
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Quick Actions -->
<div class="row">
    <div class="col-md-6 mx-auto">
        <div class="card">
            <div class="card-body text-center">
                <i class="bi bi-graph-up h1 text-success"></i>
                <h5>View Analytics</h5>
                <p class="text-muted">Detailed consumption analysis</p>
                <a href="/analytics" class="btn btn-success">View Analytics</a>
            </div>
        </div>
    </div>
</div>

{% if status.last_updated %}
<div class="row mt-4">
    <div class="col-12">
        <small class="text-muted">Last updated: {{ status.last_updated }}</small>
    </div>
</div>
{% endif %}

{% endblock %}